Quero que o scanner OCR do app funcione como leitor autom√°tico de ETIQUETAS DE PRE√áO.

REGRAS OBRIGAT√ìRIAS:

1) INTERFACE DO SCANNER
- Mostrar overlay com:
  ‚úÖ moldura central fixa
  ‚úÖ texto: "Aponte para a ETIQUETA DE PRE√áO"
  ‚úÖ indicador visual "Escaneando..."
- Bot√£o:
  "Fechar scanner"

2) √ÅREA DE LEITURA
- N√ÉO escanear imagem inteira
- Ler SOMENTE dentro da moldura central
- Ignorar fundo, prateleiras, embalagens e pessoas.

3) PR√â-PROCESSAMENTO DA IMAGEM (ANTES DO OCR)
- Escala de cinza
- Aumentar contraste
- Redu√ß√£o de ru√≠do
- Aplicar threshold leve

4) VALIDA√á√ÉO DE TEXTO
REJEITAR qualquer leitura que:
‚ùå n√£o tenha "R$"
‚ùå n√£o tenha n√∫mero decimal com v√≠rgula (ex: 29,78)
‚ùå seja texto muito longo
‚ùå n√£o pare√ßa padr√£o de mercado

ACEITAR apenas textos que contenham:
‚úÖ "R$"
‚úÖ valores monet√°rios reais
‚úÖ padr√µes como:
   - Atacado
   - Varejo
   - √Ä unidade
   - Promo√ß√£o
   - Pre√ßo por unidade
   - A partir de

5) COMPORTAMENTO AO DETECTAR ETIQUETA V√ÅLIDA
‚úÖ exibir popup com dados reconhecidos:
   - produto (se houver texto leg√≠vel)
   - pre√ßo(s)
‚úÖ exibir contador visual de 3 segundos
‚úÖ texto:
   "Adicionando automaticamente ao carrinho em 3..."

6) AUTO-ADI√á√ÉO
Se N√ÉO houver nenhuma a√ß√£o do usu√°rio em at√© 3 segundos:
‚Üí adicionar AUTOMATICAMENTE ao carrinho.

Se usu√°rio tocar:
‚úÖ "Adicionar"
‚Üí adicionar imediatamente
‚úÖ "Cancelar"
‚Üí n√£o salvar

7) CONTROLE DE DUPLICIDADE
- N√£o permitir:
  ‚õî mesmo produto com mesmo pre√ßo duplicado
- Se detectar:
  ‚Üí mostrar "Item j√° escaneado"
  ‚Üí n√£o adicionar novamente

8) CARRINHO EM TEMPO REAL (OBRIGAT√ìRIO)
Toda vez que item entrar:
‚úÖ atualizar instantaneamente:
   - subtotal
   - total
   - quantidade de itens
   - lista de produtos

9) LISTA DE ITENS
Cada item deve ter:
‚úÖ nome (ou "Produto n√£o identificado")
‚úÖ pre√ßo
‚úÖ data / hor√°rio do scan
‚úÖ bot√µes:
   [+] adicionar mais
   [üóë] remover

10) CONTROLE DE FRAME
- Bloquear leitura repetida do mesmo frame
- S√≥ permitir nova leitura quando:
   ‚úÖ imagem mudar significativamente
   OU
   ‚úÖ se passarem 2 segundos sem nova detec√ß√£o

11) STATUS EM TEMPO REAL
Exibir estados:
- "Escaneando..."
- "Analisando etiqueta..."
- "Etiqueta detectada"
- "Pre√ßo reconhecido"
- "Adicionado ao carrinho"

12) TECNOLOGIA
- OCR local (Tesseract.js)
- Nada de API paga
- Nada externo
- Nada em nuvem

Arquivos alvo:
- src/components/OCRScanner.tsx
- src/pages/Scanner.tsx
- src/state/cartStore.ts (ou equivalente)

Implementar agora.
